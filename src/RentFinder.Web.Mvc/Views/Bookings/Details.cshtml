@model BookingDetailViewModel
@{
    ViewData["Title"] = "Booking Details";
}

<div class="mb-4">
    <a asp-action="Index" class="btn btn-outline-secondary"><i class="bi bi-arrow-left"></i> Back to Bookings</a>
</div>

<div class="card shadow">
    <div class="card-header bg-primary text-white">
        <h2 class="mb-0">Booking Details</h2>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-md-6">
                <div class="property-image mb-4">
                    <img src="@Model.Property.ImageUrl" alt="@Model.Property.Title" class="img-fluid rounded" onerror="this.src='/images/property-placeholder.jpg';">
                </div>
                <div class="property-details">
                    <h3>@Model.Property.Title</h3>
                    <p class="text-muted">@Model.Property.Address</p>
                    <div class="property-features mb-3">
                        <span class="badge bg-secondary me-2">@Model.Property.Bedrooms BD</span>
                        <span class="badge bg-secondary me-2">@Model.Property.Bathrooms BA</span>
                        <span class="badge bg-secondary">@Model.Property.Area m²</span>
                    </div>
                    <a asp-controller="Properties" asp-action="Details" asp-route-id="@Model.PropertyId" class="btn btn-outline-primary">View Property</a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-header">
                        <h4 class="mb-0">Booking Information</h4>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Booking Date:</span>
                                <span>@Model.BookingDate.ToString("g")</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Status:</span>
                                <span class="badge @(Model.Status == "Upcoming" ? "bg-success" :
                                                    Model.Status == "Completed" ? "bg-secondary" :
                                                    "bg-danger")">
                                    @Model.Status
                                </span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Check-in:</span>
                                <span>@Model.CheckInDate.ToShortDateString()</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Check-out:</span>
                                <span>@Model.CheckOutDate.ToShortDateString()</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Duration:</span>
                                <span>@((Model.CheckOutDate - Model.CheckInDate).Days) nights</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Price per night:</span>
                                <span>$@Model.Property.Price.ToString("F2")</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between fw-bold">
                                <span>Total Price:</span>
                                <span>$@Model.TotalPrice.ToString("F2")</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>